{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 5a1652d4b5275793bae7","webpack:///./index.ts","webpack:///external \"reflect-metadata\"","webpack:///external \"vue\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"reflect-metadata\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"reflect-metadata\", \"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vueit\"] = factory(require(\"reflect-metadata\"), require(\"vue\"));\n\telse\n\t\troot[\"vueit\"] = factory(root[\"reflect-metadata\"], root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 5a1652d4b5275793bae7\n **/","import \"reflect-metadata\";\r\nimport * as Vue from \"vue\";\r\nimport * as types from \"../types\";\r\n\r\nclass AnnotatedOptions {\r\n    props: { [key: string]: Vue.PropOptions } = {};\r\n    paramTypes: any[] = undefined;\r\n    paramProps: Vue.PropOptions[] = [];\r\n    watch: { [key: string]: Vue.WatchOptions & { handler: Vue.WatchHandler<Vue> } } = {};\r\n    events: { [key: string]: (...args: any[]) => boolean | void } = {};\r\n}\r\n\r\nconst AnnotatedOptionsKey = \"vueit:component-options\";\r\nconst DesignTypeKey = \"design:type\";\r\nconst DesignParamTypesKey = \"design:paramtypes\";\r\n\r\nconst internalHooks = [\r\n    \"data\",\r\n    \"render\",\r\n    \"beforeCreate\",\r\n    \"created\",\r\n    \"beforeMount\",\r\n    \"mounted\",\r\n    \"beforeUpdate\",\r\n    \"updated\",\r\n    \"activated\",\r\n    \"deactivated\",\r\n    \"beforeDestroy\",\r\n    \"destroyed\"\r\n];\r\n\r\nfunction warn(msg: string) {\r\n    console.warn(\"[vueit warn]: \" + msg);\r\n}\r\n\r\nfunction error(msg: string) {\r\n    console.error(\"[vueit error]: \" + msg);\r\n}\r\n\r\nfunction makeComponent<V extends Vue>(target: Function, option: types.ComponentOptions<V>): Function | void {\r\n    option = Object.assign({}, option);\r\n    option.name = option.name || target[\"name\"];\r\n    if (option.compiledTemplate) {\r\n        option.render = option.compiledTemplate.render;\r\n        option.staticRenderFns = option.compiledTemplate.staticRenderFns;\r\n        if (option.template) {\r\n            warn(`\"compiledtemplate\" and \"template\" are exclusive. \"template\" is ignored: ${ target.name }`)\r\n            delete option.template;\r\n        }\r\n    };\r\n    const proto = target.prototype;\r\n    Object.getOwnPropertyNames(proto).filter(name => name !== \"constructor\").forEach(name => {\r\n        // hooks\r\n        if (internalHooks.indexOf(name) > -1) {\r\n            option[name] = proto[name];\r\n        }\r\n        const descriptor = Object.getOwnPropertyDescriptor(proto, name);\r\n        if (typeof descriptor.value === \"function\") {\r\n            // methods\r\n            (option.methods || (option.methods = {}))[name] = descriptor.value;\r\n        }\r\n        else if (descriptor.get || descriptor.set) {\r\n            // computed\r\n            (option.computed || (option.computed = {}))[name] = {\r\n                get: descriptor.get,\r\n                set: descriptor.set\r\n            };\r\n        }\r\n    });\r\n    const ann = Reflect.getOwnMetadata(AnnotatedOptionsKey, proto) as AnnotatedOptions;\r\n    if (ann != null) {\r\n        // props\r\n        option.props = option.props || ann.props;\r\n        // watch\r\n        option.watch = option.watch || ann.watch;\r\n    }\r\n    // find super\r\n    const superProto = Object.getPrototypeOf(proto);\r\n    const Super = (superProto instanceof Vue\r\n        ? superProto.constructor as (typeof Vue)\r\n        : Vue\r\n    );\r\n    return Super.extend(option);\r\n}\r\n\r\nfunction makefunctionalComponent(target: Function): Function | void {\r\n    const obj: any = (\"render\" in target ? target : target.prototype);\r\n    const render = <(h: types.$createElement, context: Vue.VNodeData, ...props) => Vue.VNode>obj.render;\r\n    if (render.length < 2) {\r\n        error(`\"render\" function must have at least 2 parameters: ${ target.name }`);\r\n        return;\r\n    }\r\n    const paramNames = getParamNames(render.toString());\r\n    if (render.length !== paramNames.length) {\r\n        error(`failed to parse parameter list: ${ target.name }`);\r\n        return;\r\n    }\r\n    paramNames.splice(0, 2); // first 2 params are createElement and context.\r\n    const ao = Reflect.getOwnMetadata(AnnotatedOptionsKey, obj) as AnnotatedOptions;\r\n    const props: { [name: string]: Vue.PropOptions } = {}\r\n    paramNames.forEach((name, i) => {\r\n        props[name] = ao.paramProps[i + 2];\r\n    });\r\n    const options: Vue.FunctionalComponentOptions = {\r\n        name: target.name,\r\n        functional: true,\r\n        props,\r\n        render: (\r\n            paramNames.length === 0\r\n            ? render\r\n            : function(h, context) {\r\n                const args = paramNames.map(name => context.props[name]);\r\n                return render(h, context, ...args);\r\n            }\r\n        )\r\n    };\r\n    return Vue.extend(options);\r\n}\r\n\r\nfunction getParamNames(source: string): string[] {\r\n    const withoutComment = source.replace(/(\\/\\*.*?\\*\\/)|(\\/\\/.*$)/mg, \"\");\r\n    const matched = /\\(\\s*(.*?)\\s*\\)/.exec(withoutComment);\r\n    if (!matched) {\r\n        return [];\r\n    }\r\n    return matched[1].split(/\\s*,\\s*/g);\r\n}\r\n\r\nfunction getAnnotatedOptions(target: Object): AnnotatedOptions {\r\n    let ann = Reflect.getOwnMetadata(AnnotatedOptionsKey, target) as AnnotatedOptions;\r\n    if (ann == null) {\r\n        ann = new AnnotatedOptions();\r\n        Reflect.defineMetadata(AnnotatedOptionsKey, ann, target);\r\n    }\r\n    return ann;\r\n}\r\n\r\nfunction trySetPropTypeValidation(target: Object, propertyKey: string, opts: Vue.PropOptions, type): void {\r\n    if ([String, Number, Boolean, Function, Array].indexOf(type) <= -1) {\r\n        return;\r\n    }\r\n    if (typeof opts.type !== \"undefined\") {\r\n        if ([String, Number, Boolean, Function, Array].indexOf(<any>opts.type) >= 0 && opts.type !== type) {\r\n            warn(`specified type validation does not match design type: ${ target.constructor.name }.${ propertyKey }`)\r\n        }\r\n        return;\r\n    }\r\n    opts.type = type;\r\n}\r\n\r\nfunction defineProp(target: Object, propertyKey: string, paramIndex: number, options: Vue.PropOptions) {\r\n    options = Object.assign({}, options);\r\n    if (typeof paramIndex === \"undefined\") {\r\n        definePropForField(target, propertyKey, options);\r\n    }\r\n    else {\r\n        definePropForParameter(target, propertyKey, paramIndex, options);\r\n    }\r\n}\r\n\r\nfunction definePropForField(target: Object, propertyKey: string, options: Vue.PropOptions) {\r\n    // detect design type and set prop validation\r\n    const type = Reflect.getOwnMetadata(DesignTypeKey, target, propertyKey);\r\n    trySetPropTypeValidation(target, propertyKey, options, type);\r\n    getAnnotatedOptions(target).props[propertyKey] = options;\r\n}\r\n\r\nfunction definePropForParameter(target: Object, propertyKey: string, paramIndex: number, options: Vue.PropOptions) {\r\n    if (propertyKey !== \"render\") {\r\n        warn(`when @prop is used as parameter decorator, it can be used in \"render\" method: ${ target.constructor.name }.${ propertyKey }`);\r\n        return;\r\n    }\r\n    const ao = getAnnotatedOptions(target);\r\n    if (!ao.paramTypes) {\r\n        ao.paramTypes = Reflect.getOwnMetadata(DesignParamTypesKey, target, propertyKey);\r\n    };\r\n    trySetPropTypeValidation(target, propertyKey, options, ao.paramTypes[paramIndex]);\r\n    ao.paramProps[paramIndex] = options;\r\n}\r\n\r\nfunction defineWatch(target: Object, propertyKey: string, option: types.WatchOptions) {\r\n    const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey);\r\n    if (typeof descriptor.value !== \"function\") {\r\n        warn(`@watch() can decorate only function: ${ target.constructor.name }.${ propertyKey }`)\r\n        return;\r\n    }\r\n    getAnnotatedOptions(target).watch[option.name] = {\r\n        handler: descriptor.value,\r\n        deep: option.deep,\r\n        immediate: option.immediate\r\n    };\r\n}\r\n\r\nconst prop = <types.PropType>function (...args): PropertyDecorator & ParameterDecorator {\r\n    if (args.length <= 1) {\r\n        // Used with argument list. Like `@prop()` or `@prop({ ... })`\r\n        const options = <Vue.PropOptions>(args[0] || {});\r\n        return (target, propertyKey, paramIndex?) => defineProp(target, propertyKey.toString(), paramIndex, options);\r\n    }\r\n    else {\r\n        // Used without argument list. Like `@prop`\r\n        const target = args[0];\r\n        const propertyKey = args[1].toString();\r\n        const paramIndex = <number>args[2];\r\n        defineProp(target, propertyKey, paramIndex, {});\r\n    }\r\n};\r\nprop.required = function (...args): PropertyDecorator & ParameterDecorator {\r\n    if (args.length <= 1) {\r\n        // Used with argument list. Like `@prop.required()` or `@prop.required({ ... })`\r\n        return prop(Object.assign({ required: true }, args[0]));\r\n    }\r\n    else {\r\n        // Used without argument list. Like `@prop.required`\r\n        return prop({ required: true }).apply(null, args);\r\n    }\r\n}\r\nprop.default = function (defaultValue: any, options?: Vue.PropOptions): PropertyDecorator {\r\n    return prop(Object.assign({ default: defaultValue }, options));\r\n}\r\n\r\nconst vueit = {\r\n    component<V extends Vue>(option?: types.ComponentOptions<V>): ClassDecorator {\r\n        return target => makeComponent(target, option || {});\r\n    },\r\n    functionalComponent: makefunctionalComponent as ClassDecorator,\r\n    prop: prop,\r\n    watch: function (option: string | types.WatchOptions): PropertyDecorator {\r\n        return (target, propertyKey) => defineWatch(target, propertyKey.toString(),\r\n            typeof option === \"string\" ? { name: option } : option);\r\n    }\r\n}\r\n\r\nexport = vueit;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"reflect-metadata\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"vue\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}