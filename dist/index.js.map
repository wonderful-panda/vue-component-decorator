{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 15c955572f485b6050db","webpack:///./index.ts","webpack:///external \"reflect-metadata\"","webpack:///external \"vue\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"reflect-metadata\"), require(\"vue\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"reflect-metadata\", \"vue\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vueit\"] = factory(require(\"reflect-metadata\"), require(\"vue\"));\n\telse\n\t\troot[\"vueit\"] = factory(root[\"reflect-metadata\"], root[\"vue\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 15c955572f485b6050db\n **/","import \"reflect-metadata\";\r\nimport * as Vue from \"vue\";\r\nimport * as types from \"../types\";\r\n\r\nclass AnnotatedOptions {\r\n    props: { [key: string]: Vue.PropOptions } = {};\r\n    watch: { [key: string]: Vue.WatchOptions & { handler: Vue.WatchHandler<Vue> } } = {};\r\n    events: { [key: string]: (...args: any[]) => boolean | void } = {};\r\n}\r\n\r\nconst AnnotatedOptionsKey = \"vueit:component-options\";\r\nconst DesignTypeKey = \"design:type\";\r\n\r\nconst internalHooks = [\r\n    \"data\",\r\n    \"render\",\r\n    \"beforeCreate\",\r\n    \"created\",\r\n    \"beforeMount\",\r\n    \"mounted\",\r\n    \"beforeUpdate\",\r\n    \"updated\",\r\n    \"activated\",\r\n    \"deactivated\",\r\n    \"beforeDestroy\",\r\n    \"destroyed\"\r\n];\r\n\r\nfunction makeComponent<V extends Vue>(target: Function, option: types.ComponentOptions<V>): Function | void {\r\n    option = Object.assign({}, option);\r\n    option.name = option.name || target[\"name\"];\r\n    if (option.compiledTemplate) {\r\n        option.render = option.compiledTemplate.render;\r\n        option.staticRenderFns = option.compiledTemplate.staticRenderFns;\r\n        if (option.template) {\r\n            delete option.template;\r\n        }\r\n    };\r\n    const proto = target.prototype;\r\n    Object.getOwnPropertyNames(proto).filter(name => name !== \"constructor\").forEach(name => {\r\n        // hooks\r\n        if (internalHooks.indexOf(name) > -1) {\r\n            option[name] = proto[name];\r\n        }\r\n        const descriptor = Object.getOwnPropertyDescriptor(proto, name);\r\n        if (typeof descriptor.value === \"function\") {\r\n            // methods\r\n            (option.methods || (option.methods = {}))[name] = descriptor.value;\r\n        }\r\n        else if (descriptor.get || descriptor.set) {\r\n            // computed\r\n            (option.computed || (option.computed = {}))[name] = {\r\n                get: descriptor.get,\r\n                set: descriptor.set\r\n            };\r\n        }\r\n    });\r\n    const ann = Reflect.getOwnMetadata(AnnotatedOptionsKey, proto) as AnnotatedOptions;\r\n    if (ann != null) {\r\n        // props\r\n        option.props = option.props || ann.props;\r\n        // watch\r\n        option.watch = option.watch || ann.watch;\r\n    }\r\n    // find super\r\n    const superProto = Object.getPrototypeOf(proto);\r\n    const Super = (superProto instanceof Vue\r\n        ? superProto.constructor as (typeof Vue)\r\n        : Vue\r\n    );\r\n    return Super.extend(option);\r\n}\r\n\r\nfunction getAnnotatedOptions(target: Object): AnnotatedOptions {\r\n    let ann = Reflect.getOwnMetadata(AnnotatedOptionsKey, target) as AnnotatedOptions;\r\n    if (ann == null) {\r\n        ann = new AnnotatedOptions();\r\n        Reflect.defineMetadata(AnnotatedOptionsKey, ann, target);\r\n    }\r\n    return ann;\r\n}\r\n\r\nfunction defineProp(target: Object, propertyKey: string, option: Vue.PropOptions) {\r\n    // detect design type and set prop validation\r\n    if (\"type\" in option) {\r\n        // type specified explicitly, nothing to do\r\n    }\r\n    else {\r\n        const type = Reflect.getOwnMetadata(DesignTypeKey, target, propertyKey);\r\n        if ([String, Number, Boolean, Function, Array].indexOf(type) > -1) {\r\n            option = Object.assign({ type }, option);\r\n        }\r\n    }\r\n    getAnnotatedOptions(target).props[propertyKey] = option;\r\n}\r\n\r\nfunction defineWatch(target: Object, propertyKey: string, option: types.WatchOptions) {\r\n    const descriptor = Object.getOwnPropertyDescriptor(target, propertyKey);\r\n    if (typeof descriptor.value !== \"function\") {\r\n        // TODO: show warning\r\n        return;\r\n    }\r\n    getAnnotatedOptions(target).watch[option.name] = {\r\n        handler: descriptor.value,\r\n        deep: option.deep,\r\n        immediate: option.immediate\r\n    };\r\n}\r\n\r\nconst prop = function (option?: Vue.PropOptions): PropertyDecorator {\r\n    return (target, propertyKey) => defineProp(target, propertyKey.toString(), option || {});\r\n};\r\n\r\nconst vueit = {\r\n    component<V extends Vue>(option?: types.ComponentOptions<V>): ClassDecorator {\r\n        return target => makeComponent(target, option || {});\r\n    },\r\n    prop: prop,\r\n    p: prop(),\r\n    pr: prop({ required: true }),\r\n    pd: defaultValue => prop({ default: defaultValue }),\r\n    watch: function (option: string | types.WatchOptions): PropertyDecorator {\r\n        return (target, propertyKey) => defineWatch(target, propertyKey.toString(),\r\n            typeof option === \"string\" ? { name: option } : option);\r\n    }\r\n}\r\n\r\nexport = vueit;\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./index.ts\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"reflect-metadata\"\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"vue\"\n ** module id = 2\n ** module chunks = 0\n **/"],"sourceRoot":""}